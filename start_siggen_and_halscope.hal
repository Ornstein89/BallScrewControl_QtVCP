loadrt siggen
loadrt wcomp
loadrt threads name1=test-thread period1=10000000

addf siggen.0.update test-thread
addf wcomp.0 test-thread

setp wcomp.0.min 0.0
setp wcomp.0.max 1.0
net tmp_sine_to_wcomp wcomp.0.in <= siggen.0.sine
net sw1 wcomp.0.out

start
loadusr halmeter
loadusr halscope -o halscope_output.txt